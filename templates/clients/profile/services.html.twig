{% extends 'clients/clients.base.html.twig' %}

{% set currentTab = 'services' %}

{% block content %}

    {% block header %}

        {% include 'clients/header.profile.html.twig' %}

    {% endblock %}

    <div class="mt-4">

        {% block control %}

            <div class="mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center flex-shrink-0 h-16 justify-between">
                    <div class="flex space-y-4">
                        <a href="#" onclick="location.reload(); return false;" class="inline-flex items-center rounded-md border border-gray-300 px-4 py-2 text-sm shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M15.3122 11.4236C14.526 14.3576 11.5102 16.0988 8.57612 15.3127C7.6071 15.053 6.77006 14.5514 6.11034 13.8904L5.7988 13.5789L8.23203 13.5785C8.64624 13.5784 8.98197 13.2425 8.98189 12.8283C8.98182 12.4141 8.64597 12.0784 8.23176 12.0785L3.98833 12.0792C3.78941 12.0792 3.59866 12.1583 3.45803 12.299C3.3174 12.4397 3.23842 12.6305 3.23846 12.8294L3.23935 17.0712C3.23944 17.4854 3.5753 17.8211 3.98951 17.821C4.40372 17.821 4.73944 17.4851 4.73935 17.0709L4.73884 14.6403L5.04869 14.9501C5.88973 15.7926 6.95741 16.4318 8.18789 16.7615C11.9222 17.7621 15.7605 15.5461 16.7611 11.8118C16.8683 11.4117 16.6309 11.0005 16.2308 10.8932C15.8307 10.786 15.4194 11.0235 15.3122 11.4236ZM16.5411 7.70119C16.6818 7.56051 16.7608 7.36971 16.7608 7.17078L16.7601 2.92883C16.76 2.51462 16.4242 2.17889 16.0099 2.17896C15.5957 2.17902 15.26 2.51487 15.2601 2.92908L15.2605 5.35995L14.9507 5.05013C14.1097 4.20771 13.0417 3.56827 11.8114 3.23859C8.0771 2.238 4.23874 4.45407 3.23814 8.18834C3.13094 8.58844 3.36837 8.99969 3.76847 9.1069C4.16857 9.2141 4.57983 8.97667 4.68703 8.57657C5.47321 5.6425 8.48907 3.9013 11.4231 4.68748C12.3922 4.94714 13.2293 5.44881 13.889 6.10979L14.2001 6.4209L11.7681 6.4209C11.3539 6.4209 11.0181 6.75669 11.0181 7.1709C11.0181 7.58512 11.3539 7.9209 11.7681 7.9209H16.0108C16.2097 7.9209 16.4005 7.84187 16.5411 7.70119Z" fill="#6B7280"/>
                            </svg>
                        </a>
                    </div>

                    <div class="flex items-center">
                        <div class="w-64 max-w-xl lg:max-w-xs">
                            <div class="relative">
                                <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                                    <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                        <path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
                                    </svg>
                                </div>
                                <input name="search" class="block w-full rounded-md border border-gray-300 bg-white py-2 pl-10 pr-3 leading-5 placeholder-gray-400 focus:border-indigo-500 focus:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm" placeholder="Поиск по Имени или ID" type="search">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        {% endblock %}

        {% block table %}

        <div class="hidden sm:block">
            <div class="mx-auto px-4 sm:px-6 lg:px-8">
                <div class="mt-2 flex flex-col">
                    <div class="min-w-full overflow-hidden overflow-x-auto align-middle shadow sm:rounded-lg">

                        <table class="min-w-full divide-y divide-gray-200">
                            <thead>
                                <tr class="bg-gray-50 text-gray-900 text-sm border border-t">
                                    <th class="px-6 py-3 text-left font-medium" scope="col">ID - Услуга</th>
                                    <th class="px-6 py-3 text-left font-medium" scope="col">IP</th>
                                    <th class="px-6 py-3 text-right font-medium" scope="col">Сумма</th>
                                    <th class="px-6 py-3 whitespace-nowrap text-left font-medium" scope="col">Цикл оплаты</th>
                                    <th class="px-6 py-3 whitespace-nowrap text-left font-medium" scope="col">Дата регистрации</th>
                                    <th class="px-6 py-3 whitespace-nowrap text-left font-medium" scope="col">Оплатить до</th>
                                    <th class="px-6 py-3 text-left font-medium" scope="col">Статус</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200 bg-white">

                            {% for service in services %}

                                <tr class="text-sm">
                                    <td class="truncate font-medium whitespace-nowrap px-6 py-4">{{ service.id }}</td>
                                    <td class="whitespace-nowrap px-6 py-4 text-gray-500">{{ service.ip }}</td>
                                    <td class="whitespace-nowrap px-6 py-4 text-right text-gray-500">${{ service.amount }}</td>
                                    <td class="whitespace-nowrap px-6 py-4 text-gray-500">{{ service.cycle }}</td>
                                    <td class="whitespace-nowrap px-6 py-4 text-gray-500">{{ service.date }}</td>
                                    <td class="whitespace-nowrap px-6 py-4 text-gray-500">{{ service.paydate }}</td>
                                    <td class="whitespace-nowrap px-6 py-4">
                                        {% for i in statuses %}
                                            {% if service.status == i.val %}
                                                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-{{ i.color }}-100 text-{{ i.color }}-800 capitalize">{{ i.val }}</span>
                                            {% endif %}
                                        {% endfor %}
                                    </td>
                                </tr>

                            {% endfor %}

                            </tbody>
                        </table>

                        <div class="flex items-center justify-between border-t border-gray-200 bg-gray-50 px-4 py-4 sm:px-6">
                            <div class="flex flex-1 justify-between sm:hidden">
                                <a href="#" class="relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50">Previous</a>
                                <a href="#" class="relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50">Next</a>
                            </div>
                            <div class="hidden sm:flex sm:flex-1 sm:items-center sm:justify-between">
                                <div>
                                    <nav class="isolate inline-flex -space-x-px rounded-md shadow-sm" aria-label="Pagination">
                                        <a href="#" class="relative inline-flex items-center rounded-l-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">
                                            <span class="sr-only">Previous</span>
                                            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z" clip-rule="evenodd" />
                                            </svg>
                                        </a>
                                        <a href="#" aria-current="page" class="relative z-10 inline-flex items-center border border-indigo-500 bg-indigo-50 px-4 py-2 text-sm font-medium text-indigo-600 focus:z-20">1</a>
                                        <a href="#" class="relative inline-flex items-center border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">2</a>
                                        <a href="#" class="relative hidden items-center border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20 md:inline-flex">3</a>
                                        <span class="relative inline-flex items-center border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700">...</span>
                                        <a href="#" class="relative hidden items-center border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20 md:inline-flex">8</a>
                                        <a href="#" class="relative inline-flex items-center border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">9</a>
                                        <a href="#" class="relative inline-flex items-center border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">10</a>
                                        <a href="#" class="relative inline-flex items-center rounded-r-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 focus:z-20">
                                            <span class="sr-only">Next</span>
                                            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                                            </svg>
                                        </a>
                                    </nav>
                                </div>
                                <div class="flex items-center">
                                    <p class="text-sm font-medium text-gray-500">1 - 8 из 8</p>
                                    <div class="flex ml-4">
                                        <select class="relative inline-flex items-center rounded-md border border-gray-300 pl-3 pr-9 py-2 text-sm text-gray-900">
                                            {% for i in range(low=25, high=100, step=25) %}
                                                <option>{{ i }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {% endblock %}

    </div>

{% endblock %}