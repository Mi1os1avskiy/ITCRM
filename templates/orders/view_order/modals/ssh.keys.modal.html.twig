{% extends'/misc/modals/base.modal.html.twig' %}

{% block modal_name %}ssh-keys-modal{% endblock %}

{% block modal_content %}

	<div class="relative w-full max-w-5xl bg-white transform overflow-hidden rounded-lg shadow-xl transition-all">
		<div class="flex items-center justify-between py-5 px-6 space-x-4 bg-gray-50">
			<h2 class="text-lg leading-6 text-left font-medium">Редактирование SSH ключей</h2>
			<button @click="close(false)" type="button" class="rounded-md text-gray-400 hover:text-gray-500">
				{{ source('assets/images/close.svg') }}
			</button>
		</div>

		<div class="h-[552px] py-5 px-6 space-y-5 overflow-auto">
			<div class="ring-1 ring-gray-300 rounded-lg overflow-hidden">
				<div class="flex items-center p-3 space-x-8 bg-gray-50 border-b border-gray-300">
					<input type="checkbox" class="checkbox">
					<div class="text-sm font-medium">Название</div>
				</div>
				<div class="divide-y">
					{% for i in keys %}
						<div class="flex items-center py-4 px-3 space-x-8">
							<input type="checkbox" class="checkbox" id="{{ i.id }}">
							<label for="{{ i.id }}" class="w-full text-gray-500 text-sm text-left">{{ i.user }}</label>
						</div>
					{% endfor %}
				</div>
			</div>

			<div class="rounded-lg bg-gray-50">
				<h4 class="py-5 px-6 text-sm text-left">Назначенные ключи для VPS при сетапе:</h4>
				<div class="divide-y">
					{% for i in keys %}
						{% if i.vps %}
							<div class="flex items-center py-2 px-6 space-x-4">
								<div class="max-w-full text-sm text-left break-all">{{ i.vps }}</div>
								<button class="py-2 px-3 ring-1 ring-gray-300 rounded-md bg-white text-gray-700 hover:bg-gray-50">
									{{ source('assets/images/squares.svg') }}
								</button>
							</div>
						{% endif %}
					{% endfor %}
				</div>
			</div>

			<div class="rounded-lg bg-gray-50">
				<h4 class="py-5 px-6 text-sm text-left">ISCRM ключи:</h4>
				<div class="divide-y">
					{% for i in keys %}
						{% if i.iscrm %}
							<div class="flex items-center py-2 px-6 space-x-4">
								<div class="max-w-full text-sm text-left break-all">{{ i.iscrm }}</div>
								<button class="py-2 px-3 ring-1 ring-gray-300 rounded-md bg-white text-gray-700 hover:bg-gray-50">
									{{ source('assets/images/squares.svg') }}
								</button>
							</div>
						{% endif %}
					{% endfor %}
				</div>
			</div>
		</div>

		<div class="flex py-5 px-6 space-x-3 bg-gray-50 text-sm font-medium">
			<button @click="close(false)" type="button" class="w-full rounded-md ring-1 ring-gray-300 px-4 py-2 text-gray-700 bg-white hover:bg-gray-50">Отменить</button>
			<button @click="close(true)" type="button" class="w-full rounded-md bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700">Сохранить</button>
		</div>
	</div>

{% endblock %}
