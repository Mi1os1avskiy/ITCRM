{% extends'/misc/modals/base.modal.html.twig' %}

{% block modal_name %}billing-transactions-details{% endblock %}

{% block modal_content %}

	<div class="pointer-events-none fixed inset-y-0 right-0 flex max-w-full">
		<div class="pointer-events-auto w-[536px] text-gray-900">
			<div class="flex h-full pb-16 flex-col overflow-y-scroll bg-white shadow-xl">
				<div class="flex justify-between p-6 bg-gray-50">
					<h2 class="text-lg font-medium">Детали транзакции</h2>
					<button @click="close(false)" type="button" class="rounded-md text-gray-400 hover:text-gray-500">
						<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
							<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
						</svg>
					</button>
				</div>
				<div class="p-6 divide-y text-sm text-left">
					<div class="py-5 grid grid-cols-3 gap-6">
						<div class="font-medium text-gray-500">ID</div>
						<div class="col-span-2">2378-1234</div>
					</div>
					<div v-if="data.detailsType === 1" class="py-5 grid grid-cols-3 gap-6">
						<div class="font-medium text-gray-500">UID</div>
						<div class="col-span-2">T516509014465431</div>
					</div>
					<div class="py-5 grid grid-cols-3 gap-6">
						<div class="font-medium text-gray-500">Дата и Время</div>
						<div class="col-span-2">2022-12-22, 18:34:12</div>
					</div>
					<div v-if="data.detailsType === 1" class="py-5 grid grid-cols-3 gap-6">
						<div class="text-sm font-medium text-gray-500">Инвойс</div>
						<div class="text-gray-900 col-span-2">34809234</div>
					</div>
					<div class="py-5 grid grid-cols-3 gap-6">
						<div class="font-medium text-gray-500">Клиент</div>
						<div class="col-span-2 text-indigo-900 font-medium">
							<p class="truncate">iseli-alex-badboy007@mail.com</p>
							<p>Leslie Alexander</p>
						</div>
					</div>
					<div class="py-5 grid grid-cols-3 gap-6">
						<div class="font-medium text-gray-500">Метод оплаты</div>
						<div class="col-span-2">Paysera</div>
					</div>
					<div class="py-5 grid grid-cols-3 gap-6">
						<div class="font-medium text-gray-500">Тип</div>
						<div class="col-span-2">Входящая</div>
					</div>
					<div class="py-5 grid grid-cols-3 gap-6">
						<div class="self-center font-medium text-gray-500">Сумма</div>
						<div class="col-span-2 flex items-center justify-between">
							<span>$99.00</span>
							<button v-if="data.detailsType !== 3" @click="billingTransactionsDetailsRefund()" type="button" class="inline-flex items-center px-4 py-2 rounded-md border border-gray-300 shadow-sm hover:bg-gray-50">
								<span class="text-xs font-medium text-gray-700">Вернуть</span>
							</button>
						</div>
					</div>
					<div v-if="data.detailsType === 1" class="py-5 grid grid-cols-3 gap-6">
						<div class="font-medium text-gray-500">Движение средств</div>
						<div class="col-span-2 space-y-4">
							<div>
								<p class="font-medium">2023-01-09 • 09:48:57 • $40.00</p>
								<p>Payment of an invoice from an incoming transaction.</p>
							</div>
							<div>
								<p class="font-medium">2023-01-09 • 09:48:57 • $40.00</p>
								<p>Credit to balance from transaction (balance).</p>
							</div>
						</div>
					</div>

					<div class="py-5 grid grid-cols-3 gap-6">
						<div class="self-center font-medium text-gray-500">Статус</div>
						<div class="relative col-span-2">
							<button type="button" class="w-full flex items-center py-2 px-3 space-x-2 bg-gray-50 rounded-md border border-gray-300 bg-white shadow-sm" aria-expanded="false" aria-expanded-autohide>
								<div class="h-5 w-5 pointer-events-none">
									<span class="inline-block h-2.5 w-2.5 rounded-full bg-green-400"></span>
								</div>
								<div class="flex-1 text-left pointer-events-none">Оплачена</div>
								<svg class="pointer-events-none" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
									<path fill-rule="evenodd" clip-rule="evenodd" d="M5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.7071 7.29289L9.99999 10.5858L13.2929 7.29289C13.6834 6.90237 14.3166 6.90237 14.7071 7.29289C15.0976 7.68342 15.0976 8.31658 14.7071 8.70711L10.7071 12.7071C10.3166 13.0976 9.68341 13.0976 9.29289 12.7071L5.29289 8.70711C4.90237 8.31658 4.90237 7.68342 5.29289 7.29289Z" fill="#9CA3AF"/>
								</svg>
							</button>

							<ul class="hidden absolute z-10 top-10 w-full overflow-auto rounded-md py-1 bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none">

								{% for val, css in transaction_statuses %}
									<li class="relative cursor-default group">
										<button type="button" class="w-full flex items-center py-2 px-3 space-x-2 group-hover:bg-gray-50">
											<div class="h-5 w-5">
												<span class="inline-block h-2.5 w-2.5 rounded-full bg-{{ css }}-400"></span>
											</div>
											<span class="text-gray-700">{{ val }}</span>
										</button>
									</li>
								{% endfor %}

							</ul>
						</div>
					</div>
					<div class="py-5 grid grid-cols-3 gap-6">
						<div class="text-sm font-medium text-gray-500">Детали</div>
						<div class="col-span-2">
							<span v-if="data.detailsType === 1">Deposit via Paysera: Payment for is*hosting: 2530</span>
							<span v-if="data.detailsType === 2">Пополнение счёта клиента кругленькой суммой</span>
							<span v-if="data.detailsType === 3">Списание со счёта клиента кругленькой суммы</span>
						</div>
					</div>
				</div>
			</div>

			<div class="fixed bottom-0 w-[536px] flex justify-end border-t py-5 px-6 space-x-4 bg-white">
				<button @click="close(false)" type="button" class="py-2 px-4 rounded-md border border-gray-300 bg-white text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50">Отменить</button>
				<button type="submit" class="py-2 px-4 rounded-md border border-transparent bg-indigo-600 text-sm font-medium text-white shadow-sm hover:bg-indigo-700">Сохранить изменения</button>
			</div>
		</div>
	</div>

{% endblock %}

