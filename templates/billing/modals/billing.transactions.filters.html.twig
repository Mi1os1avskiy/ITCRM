{% extends'/misc/modals/base.modal.html.twig' %}

{% block modal_name %}billing-transactions-filters{% endblock %}

{% block modal_content %}

	<div class="pointer-events-none fixed inset-y-0 right-0 flex max-w-full">
		<div class="pointer-events-auto w-[536px]">
			<div class="flex h-full flex-col overflow-y-scroll bg-white shadow-xl">
				<div class="flex items-center justify-between p-6 bg-gray-50">
					<h2 class="text-lg font-medium text-gray-900">Фильтры</h2>
					<button @click="close(false)" type="button" class="rounded-md text-gray-400 hover:text-gray-500">
						<svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
							<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
						</svg>
					</button>
				</div>
				<div class="relative mb-24 p-6 space-y-6">
					<div class="space-y-2">
						<p class="text-gray-700 text-sm text-left font-medium">Поиск</p>
						<div class="relative rounded-md shadow-sm">
							<div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
								<svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
									<path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd" />
								</svg>
							</div>
							<input type="text" class="block w-full rounded-md border-gray-300 pl-10 focus:border-indigo-500 focus:ring-indigo-500 text-sm placeholder:text-gray-400 placeholder:font-light" placeholder="Клиент Email или ID">
						</div>
					</div>

					<div class="space-y-2">
						<p class="text-gray-700 text-sm text-left font-medium">Способ оплаты</p>
						<div class="rounded-md shadow-sm">
							<select class="w-full border border-gray-300 rounded-md text-sm">
								<option>Не выбран</option>
								{% for i in payments() %}
									<option>{{ i }}</option>
								{% endfor %}
							</select>
						</div>
					</div>

					<div class="space-y-2">
						<p class="text-gray-700 text-sm text-left font-medium">Статус транзакции</p>
						<fieldset class="divide-y border border-gray-300 rounded-md shadow-sm text-sm">

							{% set add_statuses = {'Все': 'all', 'Все входящие': 'in', 'Все исходящие': 'out', 'Незасчитанные и замороженные': 'inactive'} %}

							{% for val, key in add_statuses %}
								<div class="group flex items-center py-3 px-4 space-x-3 hover:bg-indigo-200">
									<input id="{{ key }}" name="{{ key }}" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer">
									<label for="{{ key }}" class="w-full text-sm text-gray-900 text-left group-hover:text-indigo-900 cursor-pointer">{{ val }}</label>
								</div>
							{% endfor %}

							{% for val, css in transaction_filter %}
								<div class="group flex items-center py-3 px-4 space-x-3 hover:bg-indigo-200">
									<input id="{{ val }}" name="{{ val }}" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer">
									<label for="{{ val }}" class="w-full space-x-3 flex items-center cursor-pointer">
										<span class="h-2.5 w-2.5 bg-{{ css }}-400 rounded-full"></span>
										<span class="text-sm text-gray-900 group-hover:text-indigo-900">{{ val }}</span>
									</label>
								</div>
							{% endfor %}

						</fieldset>
					</div>
				</div>
			</div>
			<div class="fixed bottom-0 w-[536px] flex justify-between py-5 px-6 border-t bg-white">
				<button type="button" class="inline-flex items-center py-2 pl-3 pr-4 space-x-2 rounded-md border border-gray-300 shadow-sm hover:bg-gray-50">
					<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M10 17C13.866 17 17 13.866 17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 13.866 6.13401 17 10 17ZM7.21967 7.21967C7.51256 6.92678 7.98744 6.92678 8.28033 7.21967L10 8.93934L11.7197 7.21967C12.0126 6.92678 12.4874 6.92678 12.7803 7.21967C13.0732 7.51256 13.0732 7.98744 12.7803 8.28033L11.0607 10L12.7803 11.7197C13.0732 12.0126 13.0732 12.4874 12.7803 12.7803C12.4874 13.0732 12.0126 13.0732 11.7197 12.7803L10 11.0607L8.28033 12.7803C7.98744 13.0732 7.51256 13.0732 7.21967 12.7803C6.92678 12.4874 6.92678 12.0126 7.21967 11.7197L8.93934 10L7.21967 8.28033C6.92678 7.98744 6.92678 7.51256 7.21967 7.21967Z" fill="#6B7280"/>
					</svg>
					<span class="text-gray-700 text-sm font-medium">Очистить фильтры</span>
				</button>
				<div class="flex space-x-4">
					<button @click="close(false)" type="button" class="rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50">Отменить</button>
					<button type="submit" class="rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700">Показать</button>
				</div>
			</div>
		</div>
	</div>

{% endblock %}

