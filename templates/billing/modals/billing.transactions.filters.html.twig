{% extends'/misc/modals/base.modal.html.twig' %}

{% block modal_name %}billing-transactions-filters{% endblock %}

{% block modal_content %}

	<div class="pointer-events-none fixed inset-y-0 right-0 flex max-w-full">
		<div class="pointer-events-auto w-[536px]">
			<div class="flex h-full flex-col overflow-y-scroll bg-white shadow-xl">
				<div class="flex items-center justify-between p-6 bg-gray-50">
					<h2 class="text-lg font-medium">Фильтры</h2>
					<button @click="close(false)" type="button" class="rounded-md text-gray-400 hover:text-gray-500">
						{{ source('misc/svg/close.svg') }}
					</button>
				</div>

				<div class="relative mb-24 p-6 space-y-6">
					<div class="space-y-2">
						<p class="text-gray-700 text-sm text-left font-medium">Поиск</p>
						<div class="relative">
							<div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
								{{ source('misc/svg/search.svg') }}
							</div>
							<input type="text" class="inputs block w-full pl-10 text-sm" placeholder="Клиент Email или ID">
						</div>
					</div>

					<div class="space-y-2">
						<p class="text-gray-700 text-sm text-left font-medium">Способ оплаты</p>
						<div class="relative">
							<button type="button" class="w-full flex justify-between py-2 px-3 rounded-md ring-1 ring-gray-300 text-left text-sm hover:bg-gray-50" aria-expanded="false" aria-expanded-autohide>
								<p class="pointer-events-none">Не выбран</p>
								{{ source('misc/svg/arrow.svg') }}
							</button>

							<ul class="dropdown w-full max-h-64 overflow-auto text-sm">
								{% for i in payments() %}
									<li>
										<button type="button" class="w-full py-2 px-4 text-gray-700 text-left">{{ i }}</button>
									</li>
								{% endfor %}
							</ul>
						</div>
					</div>

					<div class="space-y-2">
						<p class="text-gray-700 text-sm text-left font-medium">Статус транзакции</p>
						<div class="checkbox_field">

							{% set statuses = {'Все': 'all', 'Все входящие': 'in', 'Все исходящие': 'out', 'Незасчитанные и замороженные': 'inactive'} %}

							{% for val, key in statuses %}
								<div class="flex items-center py-3 px-4 space-x-3">
									<input id="{{ key }}" name="{{ key }}" type="checkbox" class="checkbox">
									<label for="{{ key }}" class="w-full text-sm text-left">{{ val }}</label>
								</div>
							{% endfor %}

							{% for val, css in transaction_filter %}
								<div class="flex items-center py-3 px-4 space-x-3">
									<input id="{{ val }}" name="{{ val }}" type="checkbox" class="checkbox">
									<label for="{{ val }}" class="w-full space-x-3 flex items-center">
										<span class="h-2.5 w-2.5 bg-{{ css }}-400 rounded-full"></span>
										<span class="text-sm">{{ val }}</span>
									</label>
								</div>
							{% endfor %}

						</div>
					</div>
				</div>
			</div>
			<div class="fixed bottom-0 w-[536px] flex justify-between py-5 px-6 border-t bg-white">
				<button type="button" class="inline-flex items-center py-2 pl-3 pr-4 space-x-2 rounded-md ring-1 ring-gray-300 hover:bg-gray-50">
					{{ source('misc/svg/clear.svg') }}
					<span class="text-gray-700 text-sm font-medium">Очистить фильтры</span>
				</button>
				<div class="flex space-x-4">
					<button @click="close(false)" type="button" class="rounded-md ring-1 ring-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 hover:bg-gray-50">Отменить</button>
					<button type="submit" class="rounded-md bg-indigo-600 py-2 px-4 text-sm font-medium text-white hover:bg-indigo-700">Показать</button>
				</div>
			</div>
		</div>
	</div>

{% endblock %}

