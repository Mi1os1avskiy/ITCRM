<div class="px-8 py-4 bg-gray-50">
	<nav class="flex items-center space-x-4 text-sm text-gray-500 font-medium">
		<a href="{{ path('support_tickets') }}">Тикеты</a>
        <svg width="20" height="20" viewBox="0 -1 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.29289 14.7071C6.90237 14.3166 6.90237 13.6834 7.29289 13.2929L10.5858 10L7.29289 6.70711C6.90237 6.31658 6.90237 5.68342 7.29289 5.29289C7.68342 4.90237 8.31658 4.90237 8.70711 5.29289L12.7071 9.29289C13.0976 9.68342 13.0976 10.3166 12.7071 10.7071L8.70711 14.7071C8.31658 15.0976 7.68342 15.0976 7.29289 14.7071Z" fill="#9CA3AF"/>
        </svg>
		<span>Тикет #{{ data.ticket_id }}</span>
	</nav>

	<div class="flex items-center justify-between h-12 mt-2 space-x-4">
		<div class="space-y-1">
			<p class="font-semibold text-lg leading-6 truncate">{{ data.ticket_title }}</p>
			<p class="text-gray-500 text-sm">#{{ data.ticket_id }}</p>
		</div>
		<div class="h-[38px] flex space-x-3">
			<div class="py-2 px-4 bg-gray-100 rounded-full">
				<div class="flex items-center justify-center w-5 h-5">
					<div class="w-2.5 h-0.5 bg-green-400 rounded-sm"></div>
				</div>
			</div>

			<div class="flex items-center py-2 px-4 space-x-2.5 bg-gray-100 rounded-full">
				<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M7 8C8.65685 8 10 6.65685 10 5C10 3.34315 8.65685 2 7 2C5.34315 2 4 3.34315 4 5C4 6.65685 5.34315 8 7 8Z" fill="#9CA3AF"/>
					<path d="M14.5 9C15.8807 9 17 7.88071 17 6.5C17 5.11929 15.8807 4 14.5 4C13.1193 4 12 5.11929 12 6.5C12 7.88071 13.1193 9 14.5 9Z" fill="#9CA3AF"/>
					<path d="M1.61528 16.428C1.21798 16.1736 0.987847 15.721 1.04605 15.2529C1.41416 12.292 3.93944 10 6.9999 10C10.0604 10 12.5856 12.2914 12.9537 15.2522C13.012 15.7203 12.7818 16.1729 12.3845 16.4273C10.8302 17.4225 8.98243 18 6.9999 18C5.01737 18 3.16959 17.4231 1.61528 16.428Z" fill="#9CA3AF"/>
					<path d="M14.5001 16C14.4647 16 14.4295 15.9998 14.3943 15.9993C14.4631 15.7025 14.4822 15.3885 14.4423 15.0671C14.2668 13.6562 13.7001 12.367 12.854 11.3116C13.3646 11.1105 13.9208 11 14.5028 11C16.4426 11 18.0956 12.2273 18.7279 13.9478C18.8638 14.3176 18.7045 14.7241 18.3671 14.9275C17.2379 15.6083 15.9147 16 14.5001 16Z" fill="#9CA3AF"/>
				</svg>
				<span class="text-gray-500 text-sm font-medium">Служба поддержки</span>
			</div>

			<div class="relative">
				<button type="button" class="w-[224px] flex items-center py-2 px-3 space-x-2 rounded-md border border-gray-300 shadow-sm hover:bg-gray-100" aria-expanded="false" aria-expanded-autohide>
					<svg class="text-red-400 pointer-events-none" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M10 15C12.7614 15 15 12.7614 15 10C15 7.23858 12.7614 5 10 5C7.23858 5 5 7.23858 5 10C5 12.7614 7.23858 15 10 15Z" fill="currentColor"/>
					</svg>
					<span class="flex-1 text-sm text-left pointer-events-none">Open</span>
					<svg class="pointer-events-none" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.7071 7.29289L9.99999 10.5858L13.2929 7.29289C13.6834 6.90237 14.3166 6.90237 14.7071 7.29289C15.0976 7.68342 15.0976 8.31658 14.7071 8.70711L10.7071 12.7071C10.3166 13.0976 9.68341 13.0976 9.29289 12.7071L5.29289 8.70711C4.90237 8.31658 4.90237 7.68342 5.29289 7.29289Z" fill="#9CA3AF"/>
					</svg>
				</button>
				<ul class="absolute w-[224px] z-10 top-11 right-0 py-1 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none text-sm">
					{% for val, css in ticket_statuses %}
						<li>
							<button type="button" class="w-full flex items-center py-2 px-4 space-x-4 text-left hover:bg-gray-100">
								<span class="h-2.5 w-2.5 rounded-full bg-{{ css }}-400"></span>
								<span class="text-gray-700 whitespace-nowrap">{{ val }}</span>
							</button>
						</li>
					{% endfor %}
				</ul>
			</div>
		</div>
	</div>
</div>

<div class="h-[72px] flex px-8 bg-gray-50">
	<div class="w-[344px] flex items-center shrink-0 py-4 px-6 space-x-2 border border-gray-300 rounded-l-lg">
		<svg class="flex-shrink-0" width="40" height="40" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
			<rect width="48" height="48" rx="24" fill="#F3F4F6"/>
			<path fill-rule="evenodd" clip-rule="evenodd" d="M19.5 18C19.5 15.5147 21.5147 13.5 24 13.5C26.4852 13.5 28.5 15.5147 28.5 18C28.5 20.4853 26.4852 22.5 24 22.5C21.5147 22.5 19.5 20.4853 19.5 18Z" fill="#374151"/>
			<path fill-rule="evenodd" clip-rule="evenodd" d="M15.7512 32.1053C15.8286 27.6156 19.4919 24 24 24C28.5081 24 32.1716 27.6157 32.2487 32.1056C32.2538 32.4034 32.0823 32.676 31.8116 32.8002C29.4327 33.8918 26.7865 34.5 24.0003 34.5C21.2138 34.5 18.5674 33.8917 16.1883 32.7999C15.9176 32.6757 15.7461 32.4031 15.7512 32.1053Z" fill="#374151"/>
		</svg>
		<div class="overflow-hidden">
			<p class="text-gray-900 text-sm font-medium truncate">{{ data.ticket_email }}</p>
			<p class="text-gray-500 text-sm font-medium truncate">{{ data.ticket_username }}</p>
		</div>
	</div>
	<div class="flex grow items-center -ml-px py-4 px-6 space-x-6 border border-gray-300 rounded-r-lg">
		<div class="flex grow items-center space-x-6">
			<div class="flex grow items-center space-x-2">
				<svg class="flex-shrink-0" width="40" height="40" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
					<rect width="48" height="48" rx="24" fill="#F3F4F6"/>
					<path d="M24.3779 13.6022C24.1444 13.4659 23.8556 13.4659 23.6221 13.6022L15 18.6317L24 23.8817L33 18.6317L24.3779 13.6022Z" fill="#374151"/>
					<path d="M33.75 19.9308L24.75 25.1808V34.1808L33.3779 29.1478C33.6083 29.0134 33.75 28.7668 33.75 28.5V19.9308Z" fill="#374151"/>
					<path d="M23.25 34.1808V25.1808L14.25 19.9308V28.5C14.25 28.7668 14.3917 29.0134 14.6221 29.1478L23.25 34.1808Z" fill="#374151"/>
				</svg>
				<div>
					<div class="flex space-x-2">
						<p class="text-gray-900 text-sm font-medium line-clamp-1 overflow-hidden" title="{{ data.ticket_service }}">{{ data.ticket_service }}</p>
						<span class="px-2.5 py-0.5 rounded-full text-xs bg-green-100 text-green-800">{{ data.ticket_status }}</span>
					</div>
					<span class="text-gray-500 text-sm font-medium">{{ data.ticket_service_date }}</span>
				</div>
			</div>
			<div class="text-sm font-medium">
				<p class="text-gray-900">IP</p>
				<p class="text-gray-500">{{ data.ticket_ip }}</p>
			</div>
			<div class="text-sm font-medium">
				<p class="text-gray-900">Цена</p>
				<p class="text-gray-500">${{ data.ticket_fee|number_format('2', '.', '') }}/год</p>
			</div>
			<div class="text-sm font-medium">
				<p class="text-gray-900">Оплата</p>
				<p class="text-gray-500">{{ data.ticket_paydate }}</p>
			</div>
			<button @click="supportNewTicketService()" type="button" class="py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white hover:bg-gray-50">
				<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
					<path d="M5.29885 12.8829L4.03706 16.0374C3.8738 16.4455 4.27884 16.8506 4.68699 16.6873L7.84146 15.4255C8.34443 15.2243 8.80128 14.9231 9.18433 14.5401L14.0088 9.71589L11.0088 6.7159L6.18433 11.5401C5.80128 11.9231 5.50003 12.38 5.29885 12.8829Z" fill="#6B7280"/>
					<path d="M11.7159 6.00881L14.7159 9.00881L16.1035 7.62132C16.9319 6.79289 16.9319 5.44975 16.1035 4.62132C15.2751 3.79289 13.9319 3.79289 13.1035 4.62132L11.7159 6.00881Z" fill="#6B7280"/>
				</svg>
			</button>
		</div>
	</div>
</div>

{% set tabs = {'answer': 'Ответ', 'notes': 'Заметки', 'options': 'Опции', 'log': 'Лог', 'others': 'Другие тикеты'} %}

<div class="pt-4 border-b bg-gray-50">
	<nav class="flex mx-auto px-8 space-x-8">

	{% for eng, rus in tabs %}
		<a href="/support/ticket/{{ eng }}" class="-mb-px pb-[14px] items-center border-b-2 text-sm hover:border-gray-300 hover:text-gray-700 {% if currentTab == eng %}border-indigo-600 text-indigo-600 pointer-events-none{% else %}border-transparent text-gray-500{% endif %}">{{ rus }}</a>
	{% endfor %}

	</nav>
</div>

{% include 'support/modals/support.new.ticket.service.html.twig' %}
