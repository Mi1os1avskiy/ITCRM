{% extends 'support/support.base.html.twig' %}

{% set currentTab = 'notes' %}

{% block content %}

	{% block header %}
		{% include 'support/support.header.view.ticket.html.twig' %}
	{% endblock %}

	<support-settings inline-template>

		<div class="mt-6">
			<div class="max-w-4xl px-4 sm:px-6 lg:px-8 space-y-6">

				<form class="">
					<div class="relative rounded-md border border-gray-300">
						<div class="flex p-2 space-x-2 border-b border-gray-300">
							<button type="button" class="flex items-center py-2.5 px-2 text-left focus:bg-gray-100 focus:text-gray-900 sm:text-sm" aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label">
								<span class="pr-1.5 text-gray-600">Paragraph</span>
								<svg class="h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
									<path fill-rule="evenodd" d="M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z" clip-rule="evenodd" />
								</svg>
							</button>
							<div class="flex items-center text-sm text-gray-500">
								<button type="button" class="h-9 w-9 focus:bg-gray-100 focus:text-gray-900">B</button>
								<button type="button" class="h-9 w-9 focus:bg-gray-100 focus:text-gray-900 italic">I</button>
								<button type="button" class="h-9 w-9 focus:bg-gray-100 focus:text-gray-900 underline">U</button>
								<button type="button" class="h-9 w-9 focus:bg-gray-100 focus:text-gray-900"><s>S</s></button>
							</div>
							<div class="flex items-center">
								<button type="button" class="flex justify-center items-center h-9 w-9 focus:bg-gray-100">
									<svg width="17" height="14" viewBox="0 0 17 14" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M5.00024 1.75C5.00024 1.33579 5.33603 1 5.75024 1H16.2502C16.6645 1 17.0002 1.33579 17.0002 1.75C17.0002 2.16421 16.6645 2.5 16.2502 2.5H5.75024C5.33603 2.5 5.00024 2.16421 5.00024 1.75ZM5.00024 7C5.00024 6.58579 5.33603 6.25 5.75024 6.25H16.2502C16.6645 6.25 17.0002 6.58579 17.0002 7C17.0002 7.41421 16.6645 7.75 16.2502 7.75H5.75024C5.33603 7.75 5.00024 7.41421 5.00024 7ZM5.00024 12.25C5.00024 11.8358 5.33603 11.5 5.75024 11.5H16.2502C16.6645 11.5 17.0002 11.8358 17.0002 12.25C17.0002 12.6642 16.6645 13 16.2502 13H5.75024C5.33603 13 5.00024 12.6642 5.00024 12.25Z" fill="#6B7280"/>
										<path fill-rule="evenodd" clip-rule="evenodd" d="M0.990234 1.75C0.990234 1.19772 1.43795 0.75 1.99023 0.75H2.00023C2.55252 0.75 3.00023 1.19772 3.00023 1.75V1.76C3.00023 2.31228 2.55252 2.76 2.00023 2.76H1.99023C1.43795 2.76 0.990234 2.31228 0.990234 1.76V1.75Z" fill="#6B7280"/>
										<path fill-rule="evenodd" clip-rule="evenodd" d="M0.990234 12.25C0.990234 11.6977 1.43795 11.25 1.99023 11.25H2.00023C2.55252 11.25 3.00023 11.6977 3.00023 12.25V12.26C3.00023 12.8123 2.55252 13.26 2.00023 13.26H1.99023C1.43795 13.26 0.990234 12.8123 0.990234 12.26V12.25Z" fill="#6B7280"/>
										<path fill-rule="evenodd" clip-rule="evenodd" d="M0.990234 7C0.990234 6.44772 1.43795 6 1.99023 6H2.00023C2.55252 6 3.00023 6.44772 3.00023 7V7.01C3.00023 7.56228 2.55252 8.01 2.00023 8.01H1.99023C1.43795 8.01 0.990234 7.56228 0.990234 7.01V7Z" fill="#6B7280"/>
									</svg>
								</button>
								<button type="button" class="flex justify-center items-center h-9 w-9 focus:bg-gray-100">
									<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M3.34505 5.96154V3.27832H2.67424L2.01392 3.68185V4.30025L2.60087 3.94913H2.61659V5.96154H3.34505Z" fill="#6B7280"/>
										<path d="M6.75024 4.00012C6.33603 4.00012 6.00024 4.33591 6.00024 4.75012C6.00024 5.16434 6.33603 5.50012 6.75024 5.50012H17.2502C17.6645 5.50012 18.0002 5.16434 18.0002 4.75012C18.0002 4.33591 17.6645 4.00012 17.2502 4.00012H6.75024Z" fill="#6B7280"/>
										<path d="M6.75024 9.25012C6.33603 9.25012 6.00024 9.58591 6.00024 10.0001C6.00024 10.4143 6.33603 10.7501 6.75024 10.7501H17.2502C17.6645 10.7501 18.0002 10.4143 18.0002 10.0001C18.0002 9.58591 17.6645 9.25012 17.2502 9.25012H6.75024Z" fill="#6B7280"/>
										<path d="M6.75024 14.5001C6.33603 14.5001 6.00024 14.8359 6.00024 15.2501C6.00024 15.6643 6.33603 16.0001 6.75024 16.0001H17.2502C17.6645 16.0001 18.0002 15.6643 18.0002 15.2501C18.0002 14.8359 17.6645 14.5001 17.2502 14.5001H6.75024Z" fill="#6B7280"/>
										<path d="M2.03556 10.9619V10.4378L3.03653 9.60976C3.10291 9.55473 3.15968 9.5032 3.20685 9.45516C3.25489 9.40625 3.29158 9.35602 3.31691 9.30449C3.34311 9.25296 3.35621 9.19575 3.35621 9.13286C3.35621 9.06386 3.34136 9.0049 3.31166 8.95599C3.28284 8.90707 3.24266 8.86951 3.19113 8.84331C3.1396 8.81623 3.0802 8.8027 3.01295 8.8027C2.94569 8.8027 2.8863 8.81623 2.83476 8.84331C2.7841 8.87039 2.7448 8.91013 2.71685 8.96254C2.6889 9.01494 2.67492 9.0787 2.67492 9.15382H1.98315C1.98315 8.96516 2.02552 8.8027 2.11024 8.66644C2.19496 8.53018 2.31463 8.42537 2.46923 8.352C2.62383 8.27863 2.80507 8.24194 3.01295 8.24194C3.22781 8.24194 3.41386 8.27644 3.57108 8.34545C3.72917 8.41358 3.85102 8.50965 3.93661 8.63368C4.02309 8.75771 4.06632 8.90314 4.06632 9.06997C4.06632 9.17304 4.04492 9.27567 4.00212 9.37786C3.95932 9.47918 3.88246 9.59142 3.77153 9.71457C3.66061 9.83773 3.50295 9.98447 3.29856 10.1548L3.04701 10.3644V10.3801H4.09514V10.9619H2.03556Z" fill="#6B7280"/>
										<path d="M2.41536 16.1514C2.57957 16.2239 2.76736 16.2601 2.97873 16.2601C3.19797 16.2601 3.39143 16.2256 3.55914 16.1566C3.72771 16.0876 3.85916 15.9924 3.9535 15.871C4.0487 15.7496 4.09587 15.6103 4.09499 15.4531C4.09674 15.2889 4.04303 15.1526 3.93384 15.0443C3.82466 14.9351 3.66177 14.8687 3.44515 14.8452V14.8242C3.60499 14.8067 3.73688 14.7499 3.84082 14.6539C3.94564 14.5578 3.99717 14.4346 3.99542 14.2844C3.9963 14.1333 3.9535 13.9992 3.86703 13.8822C3.78143 13.7643 3.6622 13.6717 3.50935 13.6044C3.35737 13.5372 3.18224 13.5035 2.98397 13.5035C2.78133 13.5035 2.60184 13.5394 2.44549 13.611C2.28915 13.6826 2.16599 13.7813 2.07603 13.9071C1.98693 14.0328 1.94195 14.1778 1.94108 14.342H2.63809C2.63896 14.2879 2.65425 14.2399 2.68394 14.1979C2.71364 14.156 2.75426 14.1232 2.80579 14.0997C2.8582 14.0761 2.91759 14.0643 2.98397 14.0643C3.04511 14.0643 3.09883 14.0756 3.14512 14.0984C3.19229 14.1211 3.22897 14.1525 3.25518 14.1927C3.28138 14.2329 3.29405 14.2792 3.29317 14.3316C3.29405 14.3857 3.27876 14.4338 3.24732 14.4757C3.21675 14.5176 3.17351 14.5504 3.11761 14.5739C3.06258 14.5975 2.99882 14.6093 2.92632 14.6093H2.65381V15.1124H2.92632C3.00493 15.1124 3.07437 15.1242 3.13464 15.1478C3.19491 15.1714 3.24164 15.2041 3.27483 15.2461C3.30889 15.288 3.32549 15.336 3.32462 15.3902C3.32549 15.4452 3.31151 15.4941 3.28269 15.5369C3.25387 15.5797 3.21369 15.6133 3.16215 15.6378C3.11062 15.6614 3.05123 15.6732 2.98397 15.6732C2.9141 15.6732 2.85208 15.6618 2.79793 15.6391C2.74377 15.6164 2.70098 15.585 2.66953 15.5448C2.63896 15.5037 2.62324 15.4574 2.62237 15.4059H1.88867C1.88955 15.5727 1.93671 15.7203 2.03017 15.8487C2.12363 15.9771 2.25202 16.078 2.41536 16.1514Z" fill="#6B7280"/>
									</svg>
								</button>
							</div>
							<div class="flex items-center">
								<button type="button" class="flex justify-center items-center h-9 w-9 focus:bg-gray-100 focus:text-gray-900">
									<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M1 5.25C1 4.00736 2.00736 3 3.25 3H16.75C17.9926 3 19 4.00736 19 5.25V14.75C19 15.9926 17.9926 17 16.75 17H3.25C2.00736 17 1 15.9926 1 14.75V5.25ZM2.5 11.0607V14.75C2.5 15.1642 2.83579 15.5 3.25 15.5H16.75C17.1642 15.5 17.5 15.1642 17.5 14.75V12.0607L15.2803 9.84099C14.9874 9.5481 14.5126 9.5481 14.2197 9.84099L12.3107 11.75L12.7803 12.2197C13.0732 12.5126 13.0732 12.9874 12.7803 13.2803C12.4874 13.5732 12.0126 13.5732 11.7197 13.2803L6.53033 8.09099C6.23744 7.7981 5.76256 7.7981 5.46967 8.09099L2.5 11.0607ZM12 7C12 7.55228 11.5523 8 11 8C10.4477 8 10 7.55228 10 7C10 6.44772 10.4477 6 11 6C11.5523 6 12 6.44772 12 7Z" fill="#6B7280"/>
									</svg>
								</button>
								<button type="button" class="flex justify-center items-center h-9 w-9 focus:bg-gray-100 focus:text-gray-900">
									<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M12.2322 4.23223C13.2085 3.25592 14.7915 3.25592 15.7678 4.23223C16.7441 5.20854 16.7441 6.79146 15.7678 7.76777L14.5434 8.9921C14.2505 9.28499 14.2505 9.75987 14.5434 10.0528C14.8363 10.3457 15.3112 10.3457 15.6041 10.0528L16.8284 8.82843C18.3905 7.26633 18.3905 4.73367 16.8284 3.17157C15.2663 1.60948 12.7337 1.60948 11.1716 3.17157L8.17157 6.17157C6.60948 7.73367 6.60948 10.2663 8.17157 11.8284C8.24449 11.9013 8.31963 11.9709 8.3968 12.0372C8.71107 12.307 9.18457 12.271 9.45441 11.9567C9.72424 11.6425 9.68822 11.169 9.37395 10.8991C9.32556 10.8576 9.27828 10.8138 9.23223 10.7678C8.25592 9.79145 8.25592 8.20854 9.23223 7.23223L12.2322 4.23223Z" fill="#6B7280"/>
										<path d="M11.6032 7.96278C11.2889 7.69295 10.8154 7.72897 10.5456 8.04324C10.2758 8.3575 10.3118 8.83101 10.626 9.10084C10.6744 9.14239 10.7217 9.18618 10.7678 9.23222C11.7441 10.2085 11.7441 11.7914 10.7678 12.7678L7.76777 15.7678C6.79146 16.7441 5.20854 16.7441 4.23223 15.7678C3.25592 14.7914 3.25592 13.2085 4.23223 12.2322L5.45657 11.0079C5.74946 10.715 5.74946 10.2401 5.45657 9.94723C5.16367 9.65433 4.6888 9.65433 4.39591 9.94723L3.17157 11.1716C1.60948 12.7337 1.60948 15.2663 3.17157 16.8284C4.73367 18.3905 7.26633 18.3905 8.82843 16.8284L11.8284 13.8284C13.3905 12.2663 13.3905 9.73366 11.8284 8.17156C11.7555 8.09864 11.6804 8.02904 11.6032 7.96278Z" fill="#6B7280"/>
									</svg>
								</button>
								<button type="button" class="flex justify-center items-center h-9 w-9 focus:bg-gray-100 focus:text-gray-900">
									<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M6.28033 5.21979C6.57322 5.51269 6.57322 5.98756 6.28033 6.28045L2.56066 10.0001L6.28033 13.7198C6.57322 14.0127 6.57322 14.4876 6.28033 14.7805C5.98744 15.0733 5.51256 15.0733 5.21967 14.7805L0.96967 10.5305C0.676777 10.2376 0.676777 9.76269 0.96967 9.46979L5.21967 5.21979C5.51256 4.9269 5.98744 4.9269 6.28033 5.21979ZM13.7197 5.21979C14.0126 4.9269 14.4874 4.9269 14.7803 5.21979L19.0303 9.46979C19.3232 9.76269 19.3232 10.2376 19.0303 10.5305L14.7803 14.7805C14.4874 15.0733 14.0126 15.0733 13.7197 14.7805C13.4268 14.4876 13.4268 14.0127 13.7197 13.7198L17.4393 10.0001L13.7197 6.28045C13.4268 5.98756 13.4268 5.51269 13.7197 5.21979Z" fill="#6B7280"/>
										<path fill-rule="evenodd" clip-rule="evenodd" d="M11.3774 2.01103C11.7856 2.0814 12.0595 2.46936 11.9891 2.87755L9.48909 17.3776C9.41872 17.7857 9.03076 18.0596 8.62257 17.9892C8.21438 17.9188 7.94053 17.5309 8.0109 17.1227L10.5109 2.62269C10.5813 2.2145 10.9692 1.94065 11.3774 2.01103Z" fill="#6B7280"/>
									</svg>
								</button>
								<button type="button" class="flex justify-center items-center h-9 w-9 focus:bg-gray-100 focus:text-gray-900">
									<svg width="20" height="20" viewBox="-5 -5 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M1.106 8C0.495175 8 0 7.48833 0 6.85714V5.71429C0 5.68875 0.000810562 5.66341 0.00240661 5.63829C0.0202866 5.0371 0.137796 4.40695 0.354936 3.74785C0.59156 3.02961 0.920615 2.34193 1.3421 1.68481C1.76359 1.0277 2.25902 0.466092 2.82839 0L4.46997 1.2149C4.01891 1.89494 3.63439 2.60554 3.31643 3.3467C3.14902 3.73694 3.02568 4.14518 2.94641 4.57143H3.31802C3.92885 4.57143 4.42402 5.0831 4.42402 5.71429V6.85714C4.42402 7.48833 3.92885 8 3.31802 8H1.106Z" fill="#6B7280"/>
										<path d="M6.63603 8C6.0252 8 5.53003 7.48833 5.53003 6.85714V5.71429C5.53003 5.68875 5.53084 5.6634 5.53243 5.63828C5.55031 5.03709 5.66782 4.40695 5.88496 3.74785C6.12159 3.02961 6.45064 2.34193 6.87213 1.68481C7.29361 1.0277 7.78905 0.466092 8.35842 0L10 1.2149C9.54893 1.89494 9.16442 2.60554 8.84646 3.3467C8.67905 3.73694 8.55571 4.14518 8.47644 4.57143H8.84804C9.45887 4.57143 9.95405 5.0831 9.95405 5.71429V6.85714C9.95405 7.48833 9.45887 8 8.84804 8H6.63603Z" fill="#6B7280"/>
									</svg>
								</button>
							</div>
						</div>

						<div class="px-6 py-4 space-y-4">
							<div class="">
								<input class="w-full border-0 focus:outline-none text-sm placeholder-gray-400" placeholder="Содержание тикета">
							</div>
							<div class="flex space-x-2.5">
								<button type="button" class="flex items-center space-x-2 py-2 px-3 bg-gray-50 rounded-full">
									<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path fill-rule="evenodd" clip-rule="evenodd" d="M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18ZM10.75 6.75C10.75 6.33579 10.4142 6 10 6C9.58579 6 9.25 6.33579 9.25 6.75V9.25H6.75C6.33579 9.25 6 9.58579 6 10C6 10.4142 6.33579 10.75 6.75 10.75H9.25V13.25C9.25 13.6642 9.58579 14 10 14C10.4142 14 10.75 13.6642 10.75 13.25V10.75H13.25C13.6642 10.75 14 10.4142 14 10C14 9.58579 13.6642 9.25 13.25 9.25H10.75V6.75Z" fill="#9CA3AF"/>
									</svg>
									<span class="text-sm font-medium text-gray-500">Прикрепить файл</span>
								</button>
							</div>
						</div>
					</div>

					<div class="flex justify-end">
						<button type="submit" class="mt-6 rounded-md border border-transparent bg-indigo-600 px-4 py-2 font-medium text-sm text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Добавить заметку</button>
					</div>

				</form>

				<div class="w-full h-px bg-gray-200"></div>

				{% for message in messages %}

					{% if message.type == 'admin_note' %}

						<div class="rounded-lg text-sm bg-yellow-50">
							<div class="flex items-center justify-between py-5 px-6">
								<div>
									<div class="flex space-x-1.5">
										{% if message.important %}
											<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path fill-rule="evenodd" clip-rule="evenodd" d="M18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10ZM10 5C10.4142 5 10.75 5.33579 10.75 5.75V10.25C10.75 10.6642 10.4142 11 10 11C9.58579 11 9.25 10.6642 9.25 10.25V5.75C9.25 5.33579 9.58579 5 10 5ZM10 15C10.5523 15 11 14.5523 11 14C11 13.4477 10.5523 13 10 13C9.44771 13 9 13.4477 9 14C9 14.5523 9.44771 15 10 15Z" fill="#F97316"/>
											</svg>
										{% endif %}
										<p class="text-gray-900 font-medium">Заметка от {{ message.name }}</p>
									</div>
									<p class="text-xs text-yellow-800">{{ message.date }}, {{ message.time }} {{ message.loc }}</p>
								</div>
								<div class="relative flex items-center mr-2">
									<button type="button" class="relative p-2 rounded-full hover:bg-yellow-100" aria-expanded="false" aria-expanded-autohide>
										<svg class="pointer-events-none text-gray-800 hover:text-gray-900" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M3 10C3 9.17157 3.67157 8.5 4.5 8.5C5.32843 8.5 6 9.17157 6 10C6 10.8284 5.32843 11.5 4.5 11.5C3.67157 11.5 3 10.8284 3 10Z" fill="currentColor"/>
											<path d="M8.5 10C8.5 9.17157 9.17157 8.5 10 8.5C10.8284 8.5 11.5 9.17157 11.5 10C11.5 10.8284 10.8284 11.5 10 11.5C9.17157 11.5 8.5 10.8284 8.5 10Z" fill="currentColor"/>
											<path d="M15.5 8.5C14.6716 8.5 14 9.17157 14 10C14 10.8284 14.6716 11.5 15.5 11.5C16.3284 11.5 17 10.8284 17 10C17 9.17157 16.3284 8.5 15.5 8.5Z" fill="currentColor"/>
										</svg>
									</button>
									<ul class="absolute z-10 w-40 top-10 divide-y divide-gray-100 rounded-md bg-white text-sm text-gray-700 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none">
										<li class="hover:bg-gray-50">
											<button @click="notesEdit()" type="button" class="w-full py-3 px-4 text-left">Редактировать</button>
										</li>
										<li class="hover:bg-gray-50">
											<button type="button" class="w-full py-3 px-4 text-left">Удалить</button>
										</li>
									</ul>
								</div>
							</div>
							<div class="pb-5 px-6 space-y-4 text-gray-700">
								{% for item in message.content %}
									<div>{{ item }}</div>
								{% endfor %}
								{% if message.filename %}
									<div class="w-fit py-2 px-3 rounded-full flex items-center bg-yellow-100">
										<svg class="text-yellow-400" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M7 3.5C7 2.67157 7.67157 2 8.5 2H12.3787C12.7765 2 13.158 2.15804 13.4393 2.43934L16.5607 5.56066C16.842 5.84197 17 6.2235 17 6.62132V12.5C17 13.3284 16.3284 14 15.5 14H14.5V10.6213C14.5 9.82567 14.1839 9.06261 13.6213 8.5L10.5 5.37868C9.93739 4.81607 9.17433 4.5 8.37868 4.5H7V3.5Z" fill="currentColor"/>
											<path d="M4.5 6C3.67157 6 3 6.67157 3 7.5V16.5C3 17.3284 3.67157 18 4.5 18H11.5C12.3284 18 13 17.3284 13 16.5V10.6213C13 10.2235 12.842 9.84197 12.5607 9.56066L9.43934 6.43934C9.15804 6.15804 8.7765 6 8.37868 6H4.5Z" fill="currentColor"/>
										</svg>
										<span class="ml-3 text-sm font-medium text-yellow-800">{{ message.filename }}</span>
									</div>
								{% endif %}
							</div>
						</div>

					{% endif %}

				{% endfor %}

			</div>
		</div>

	</support-settings>

	{% block modals %}

	{% endblock %}

{% endblock %}